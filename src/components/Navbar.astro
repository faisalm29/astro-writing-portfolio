---
import type { NavigationLink } from "src/types";

interface Props {
  desktopLinks: Array<NavigationLink>;
  mobileLinks: Array<NavigationLink>;
}

const { desktopLinks, mobileLinks } = Astro.props;
---

<nav class="relative px-[5vw] py-6">
  <ul class="flex items-center justify-between">
    <li><a href="/" class="tracking-[0.08em]">Faisal</a></li>
    {
      desktopLinks.map((link) => (
        <li class="hidden md:block">
          <a class="tracking-[0.08em]" href={link.url}>
            {link.name}
          </a>
        </li>
      ))
    }
    <li class="md:hidden">
      <button id="btn-menu">Menu</button>
    </li>
  </ul>

  <!-- Collapsible mobile navigation -->
  <div
    id="mobile-nav"
    class="surface-secondary fixed left-0 top-0 z-50 hidden h-screen w-screen pl-[5vw] pr-[7.5vw] pt-16 md:hidden lg:hidden"
  >
    <div class="mb-4 flex justify-end">
      <button id="btn-close">close</button>
    </div>
    <div class="mb-12">
      <h4 class="mb-4 uppercase tracking-[0.08em]">Go To</h4>
      <ul>
        {
          mobileLinks.map((link) => (
            <li class="justify-centers font-display mb-4 flex content-center gap-4">
              <a class="text-md leading-[1em]" href={link.url}>
                {link.name}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
    <div class="mb-16 md:mb-8">
      <h4 class="mb-4 uppercase tracking-[0.08em]">Social</h4>
      <ul class="text-md">
        <li class="mb-4">LinkedIn</li>
        <li class="mb-4">Instagram</li>
        <li>Github</li>
      </ul>
    </div>
  </div>
</nav>

<script>
  const menuBtn = document.getElementById("btn-menu");
  const closeBtn = document.getElementById("btn-close");
  const mobileNav = document.getElementById("mobile-nav");

  menuBtn?.addEventListener("click", () => {
    mobileNav?.classList.remove("hidden");
  });

  closeBtn?.addEventListener("click", () => {
    mobileNav?.classList.add("hidden");
  });
</script>
